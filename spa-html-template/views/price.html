<!-- Header Start -->
<div class="jumbotron jumbotron-fluid bg-jumbotron" style="margin-bottom: 90px">
  <div class="container text-center py-5">
    <h3 class="text-white display-3 mb-4">Pricing</h3>
    <div class="d-inline-flex align-items-center text-white">
      <p class="m-0"><a class="text-white" href="index1.html">Home</a></p>
      <i class="far fa-circle px-3"></i>
      <p class="m-0">Pricing</p>
    </div>
  </div>
</div>
<!-- Header End -->

<div class="container-fluid bg-pricing" style="margin: 90px 0">
  <div class="container">
    <div class="row">
      <div class="col-lg-5" style="min-height: 500px">
        <div class="position-relative h-100">
          <img
            class="position-absolute w-100 h-100"
            src="../img/pricing.jpg"
            style="object-fit: cover"
          />
        </div>
      </div>
      <div class="col-lg-7 pt-5 pb-lg-5">
        <div class="pricing-text bg-light p-4 p-lg-5 my-lg-5">
          <div class="owl-carousel pricing-carousel">
            <div class="bg-white"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</div>
<!-- Pricing End -->

<!-- PriceList Start -->
<div class="container-fluid py-5">
  <div class="container py-5">
    <div class="row">
      <div class="col-lg-6" style="min-height: 500px">
        <div class="position-relative h-100">
          <img
            class="position-absolute w-100 h-100"
            src="../img/opening.jpg"
            style="object-fit: cover"
          />
        </div>
      </div>
      <div class="col-lg-6 pt-5 pb-lg-5">
        <div class="hours-text bg-light p-4 p-lg-5 my-lg-5">
          <h6
            class="d-inline-block text-white text-uppercase bg-primary py-1 px-2"
          >
            Price list
          </h6>
          <h1 class="mb-4">Best SPA & Beauty Zone</h1>
          <table id="priceTable" class="table">
            <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">Services</th>
                <th scope="col">Price</th>
              </tr>
            </thead>
            <tbody>
              <!-- Table body will be populated dynamically -->
            </tbody>
          </table>
          <a href="index1.html#makeApp" class="btn btn-primary mt-2"
            >Make Appointment</a
          >
        </div>
      </div>
    </div>
  </div>
  <!-- PriceList End -->
</div>

<script>
  // Function to fetch data from the JSON file
  function fetchData() {
    return fetch("../json/prices.json")
      .then((response) => {
        if (!response.ok) {
          throw new Error("Network response was not ok");
        }
        return response.json();
      })
      .catch((error) => {
        console.error("Error fetching data:", error);
      });
  }

  // Function to populate the table with data
  function populateTable(data) {
    const tableBody = document.querySelector("#priceTable tbody");
    tableBody.innerHTML = ""; // Clear previous data

    data.forEach((item) => {
      const row = document.createElement("tr");
      row.innerHTML = `
            <th scope="row">${item.id}</th>
            <td>${item.service}</td>
            <td>${item.price}</td>
        `;
      tableBody.appendChild(row);
    });
  }

  // Fetch data and populate the table
  fetchData().then((data) => {
    if (data) {
      populateTable(data.pricelist);
    }
  });
</script>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    fetch("../json/plans.json")
      .then(response => response.json())
      .then(data => {
        const pricingCarousel = document.querySelector('.pricing-carousel');

        data.cards.forEach(card => {
          const cardDiv = document.createElement('div');
          cardDiv.classList.add('bg-white');

          const headerDiv = document.createElement('div');
          headerDiv.classList.add('d-flex', 'align-items-center', 'justify-content-between', 'border-bottom', 'border-primary', 'p-4');

          const priceH1 = document.createElement('h1');
          priceH1.classList.add('display-4', 'mb-0');

          const dollarSignSmall = document.createElement('small');
          dollarSignSmall.classList.add('align-top', 'text-muted', 'font-weight-medium');
          dollarSignSmall.style.fontSize = '22px';
          dollarSignSmall.style.lineHeight = '45px';
          dollarSignSmall.textContent = '$';

          const priceSpan = document.createElement('span');
          priceSpan.textContent = card.price;

          const perMonthSmall = document.createElement('small');
          perMonthSmall.classList.add('align-bottom', 'text-muted', 'font-weight-medium');
          perMonthSmall.style.fontSize = '16px';
          perMonthSmall.style.lineHeight = '40px';
          perMonthSmall.textContent = '/Mo';

          priceH1.appendChild(dollarSignSmall);
          priceH1.appendChild(priceSpan);
          priceH1.appendChild(perMonthSmall);

          const nameH5 = document.createElement('h5');
          nameH5.classList.add('text-primary', 'text-uppercase', 'm-0');
          nameH5.textContent = card.name;

          headerDiv.appendChild(priceH1);
          headerDiv.appendChild(nameH5);

          const featuresDiv = document.createElement('div');
          featuresDiv.classList.add('p-4');

          card.features.forEach(feature => {
            const featureP = document.createElement('p');
            const checkIcon = document.createElement('i');
            checkIcon.classList.add('fa', 'fa-check', 'text-success', 'mr-2');
            const featureSpan = document.createElement('span');
            featureSpan.textContent = feature;
            featureP.appendChild(checkIcon);
            featureP.appendChild(featureSpan);
            featuresDiv.appendChild(featureP);
          });

          cardDiv.appendChild(headerDiv);
          cardDiv.appendChild(featuresDiv);
          pricingCarousel.appendChild(cardDiv);
        });
      })
      .catch(error => console.error('Error fetching data:', error));
  });
</script>